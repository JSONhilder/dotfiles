#!/bin/bash

# Get the list of running processes with PID and command
PROCESS=$(ps aux | awk '{print $2, $11, $12}' | fzf --height 50% --reverse --border --header="Select a process to kill")

# Extract the PID from the selected process
PID=$(echo "$PROCESS" | awk '{print $1}')

# Check if a PID was selected
if [ -n "$PID" ]; then
    # Prompt for confirmation using dmenu
    CONFIRM=$(echo -e "Yes\nNo" | dmenu -i -p "Are you sure you want to kill the process: $PROCESS?")

    if [[ "$CONFIRM" == "Yes" ]]; then
        kill "$PID"
        echo "Killed process with PID: $PID"
    else
        echo "Process not killed."
    fi
else
    echo "No process selected."
fi
